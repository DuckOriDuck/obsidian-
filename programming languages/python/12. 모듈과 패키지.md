# 모듈의 내부 동작 원리
`pip install` 명령어를 사용하면 PyPl로부터 패키지를 다운받아  `site-packages` 디렉토리(`Python311\Lib\site-packages`) 아래에 설치됨.

모듈의 로딩
```python
import pandas as pd
```

## import문의 내부 동작.
**전체적인 방식은** `sys.path` **에서 모듈 파일을 찾고, 이걸 인터프레터가 로드해서**  `sys.modules` **에 캐시하는 방식이다. 이 과정에서 모듈 내의 모든 코드가 실행된다.**

1. 파이썬이 먼저 `sys.modules`를 체크(python이 실행될 때 자동으로 로드). 이 딕셔너리는 (이미 로드된 모듈들의 이름: 모듈 객체)로 (key:value) 값을 가진다. 모듈이 이미 `sys.modules` 에 존재한다면, 그게 반환됨.
2. `sys.modules`에 없다면, python은 `sys.path`에 있는 디렉토리를 순회하며 모듈이 있는지 찾아다님 `sys.path`는 python 인터프레터에서 모듈을 어디서 찾아야할지 알려주는 경로의 리스트임. 
	- 이 리스트는 다음과 같은 위치를 포함한다
	1. 스크립트가 실행되는 현재 디렉토리( or 파이썬 인터렉티브 세션을 시작한 디렉토리)
	2. `PYTHONPATH` 환경 변수에 명시된 모든 디렉토리(환경 변수가 설정된 경우, windows의 환경변수 설정하기로 검색하면 됨)
	3. Python 설치 시 지정된 라이브러리 디렉토리, 기본적으로 Windows에서는 `"C:\Python{파이썬버젼}\Lib"`와 같은 형태로 됨.
	4. 각각의 `.egg`파일
	5. `sys.path`에 디렉토리를 동적으로 추가한 경우. 예를 들어, 스크립트에서 다른 디렉토리에 있는 모듈을 임포트 하는 경우, `sys.path.append('/path/to/directory`)를 사용하여 해당 디렉토리를 sys.path에 추가할 수 있음.
	6. `site-packages`는 `.pth` 파일을 참고함.
3. Python이 모듈을 찾았으면 모듈의 코드를 읽고 실행.
	1. 모듈을 찾지 못했다면 `ModuleNotFoundError`가 발생함.
## 모듈의 실행
모듈이 로드되면, 모듈의 코드는 최상위 레벨에서 실행되고, 모듈의 네임스페이스를 저으이하는데 사용되는 이름들은 생성됨. 모듈의 네임스페이스는 `import`문을 통해 접근할 수 있음.

##### 파이썬의 모듈과 패키지 시스템은 재사용성의 향상을 통해 생산성을 매우 높여줌.
- **패키지는 관련된 여러 모듈을 하나의 디렉토리에 모아둔 것**
- 다음은 `utilities` 라는 패키지를 다른 스크립트에서 임포트하여 함수를 사용하는 예제임
```python
# main.py

from utilities.math_tools import add, subtract

def main():
    print(add(10, 5))  # 출력: 15
    print(subtract(10, 5))  # 출력: 5

if __name__ == "__main__":
    main()
```

# 자주 사용되는 표준 라이브러리
- OS 모듈: 운영체제와 상호작용하는데 사용되는 함수들을 제공.
	- 파일과 디렉토리를 만들고, 읽고, 쓰는것을 비롯하여 환경 변수에 접근하거나 운영 체제 명령을 실행하는 등의 작업을 수행할 수 있음.
- sys 모듈: 파이썬 인터프리터와 상호작용하는 도구를 제공. 이 모듈을 사용하면 명령행인수를 처리하거나, 입/출력 스트림을 제어하거나, 인터프리터의 상태를 점검하고 제어할 수 있음.
- math 모듈: 수학적 연산을 수행하는데 필요한 함수들을 제공합니다. 제곱근, 로그, 삼각함수등의 기능들이 포함.
```
import math
math.pi #출력: 3.141592653589793
```
- datetime 모듈: 날짜와 시간을 다루는 클래스를 제공한다. 현재 날짜와 시간을 가져온느 것부터 날짜와 시간의 차이를 계산하는 것까지 다양한 기능을 제공한다.
- `json` 모듈: JSON 형식의 데이터를 읽고 쓰는데 사용됨. Python 데이터 구조를 JSON 문자열로 직렬화하거나, JSON 문자열을 Python 데이터구조로 역직렬화하는 기능을 제공함. 일반적으로 클래스로 구현하여 만든 인스턴스는 직렬화되지 않는다.
	- 직렬화란?  데이터를 저장/전송 형식으로 반환하는것을 이야기함. 보통 문자열로 변환된다.
- - collections 모듈: 기본 데이터 컨테이넝 ㅚ에도 다양한 데이터 컨테이너를 저장한다. deque, Counter ,OrderedDicted, defaltdict와 같은 고급 데이터 구조 제공
- request 모듈: HTTP 요청을 쉽게 보낼 수 있는 기능을 제공하는 외부 라이브러리임. REST API와 통신하거나 웹 페이지를 스크래핑하는 등의 작업을 수행하는데 유용함. 보통 `beu\autiful` 모듈과 함께 사용. `beautifulSoup`는 가지고 온 데이터를 우리가 보다 쉽게 접근할 수 있게 파싱함.