# 도커의 build cache 사용
각 instruction마다, 도커는 이전 빌드에서 사용한 instruction을 또 재사용할 수 있는지 확인한다. 만약 이전에 비슷한 instruction을 실행한것을 확인하면, 도커는 캐시를 사용한다. 이렇게 해서 도커의 빌드 프로세스가 훨씬 빨라진다.

캐시를 최대한 활용하고 가벼운 리빌딩을 위해서 cache invalidation이 어떻게 작동하는지 알아야 함. 다음은 어떻게 캐시 무효화를 할 수 있는지 보여준다.

- `RUN` 명령어에 변경사항이 있을때마다 해당 레이어가 변경된다. 도커는 도커파일의 `RUN` 커맨드에서 변경사항이 있을 때 마다 캐시를 무효화한다.
- `COPY`나 `ADD` 명령어가 변경된다면, 또 캐시를 무효화한다.
- 하나의 계층의 캐시가 무효화 됐을 떄, 다음 계층들의 캐시도 전부 무효화된다.